<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ArqCalc - Dashboard</title>
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
</head>
<body>
    <div class="dashboard-container">
        <!-- Sidebar (Menu Lateral) -->
        <aside class="sidebar">
            <div class="sidebar-header">
                <h2 class="sidebar-title">ArqCalc</h2>
                <!-- Botão do menu hambúrguer para mobile -->
                <button class="menu-toggle-btn" id="menu-toggle">
                    <span></span>
                    <span></span>
                    <span></span>
                </button>
            </div>
            <!-- O container da navegação que será escondido/mostrado no mobile -->
            <div class="sidebar-nav-container" id="sidebar-nav">
                <nav>
                    <ul>
                        <li><a href="#" class="nav-link" data-target="revestimento">Calculadora de Revestimento</a></li>
                        <li><a href="#" class="nav-link" data-target="pintura">Calculadora de Pintura</a></li>
                        <li><a href="#" class="nav-link active" data-target="orcamento">Orçamento Detalhado</a></li>
                    </ul>
                </nav>
                <!-- O botão de sair -->
                <button id="logout-btn" class="btn-secondary">Sair</button>
            </div>
        </aside>

        <!-- Conteúdo Principal -->
        <main class="main-content">
            <header class="main-header">
                <!-- AJUSTE: Adicionado um <span> para o nome do usuário -->
                <h1>Bem-vindo, <span id="user-name">Usuário</span>!</h1>
                <p>Selecione uma calculadora para começar.</p>
            </header>

            <!-- Seção da Calculadora de Orçamento (Mantida) -->
            <section id="orcamento" class="calculator-section active">
                <!-- Todo o conteúdo da calculadora de orçamento que já fizemos vai aqui -->
                <h2>Orçamento Detalhado de Obra</h2>
                <p>Adicione materiais e serviços para compor seu orçamento. Clique nos ícones <i class="fas fa-info-circle info-icon-example"></i> para saber mais.</p>
                <div class="orcamento-container">
                    <table class="orcamento-table">
                        <thead>
                            <tr>
                                <th>Item/Serviço</th>
                                <th>Unid.</th>
                                <th>Quant.</th>
                                <th>Preço Unit. (R$)</th>
                                <th>Subtotal (R$)</th>
                                <th>Ações</th>
                            </tr>
                        </thead>
                        <tbody id="orcamento-list"></tbody>
                    </table>
                    <div class="add-item-form">
                        <h3>Adicionar Novo Item</h3>
                        <div class="form-row">
                             <div class="input-group"><label for="item-descricao">Descrição</label><input type="text" id="item-descricao" placeholder="Ex: Cimento CP II"></div>
                             <div class="input-group"><label for="item-unidade">Unidade</label><input type="text" id="item-unidade" placeholder="Ex: saco, m², hora"></div>
                        </div>
                         <div class="form-row">
                            <div class="input-group"><label for="item-quantidade">Quantidade</label><input type="number" id="item-quantidade" value="1" min="0"></div>
                            <div class="input-group"><label for="item-preco">Preço Unitário (R$)</label><input type="number" id="item-preco" placeholder="0.00" step="0.01" min="0"></div>
                        </div>
                        <button id="add-item-btn" class="btn-primary">Adicionar ao Orçamento</button>
                    </div>
                    <div class="orcamento-summary">
                        <h3>Resumo de Custos</h3>
                        <div class="summary-item"><span>Custo Direto (Materiais + Mão de Obra)</span><span id="custo-direto-total">R$ 0,00</span></div>
                        <div class="summary-item bdi-item"><span>BDI (Benefícios e Despesas Indiretas)<i class="fas fa-info-circle info-icon" data-info="bdi"></i></span><div class="bdi-input"><input type="number" id="bdi-percent" value="25" min="0">%</div></div>
                        <div class="summary-item"><span>Valor do BDI</span><span id="bdi-valor">R$ 0,00</span></div><hr>
                        <div class="summary-item total-final"><span>PREÇO FINAL DE VENDA</span><span id="preco-final-venda">R$ 0,00</span></div>
                    </div>
                </div>
            </section>
            
            <!-- Outras seções de calculadora (revestimento, pintura, etc.) -->
            <section id="revestimento" class="calculator-section"><h2>Revestimento</h2></section>
            <section id="pintura" class="calculator-section"><h2>Pintura</h2></section>

        </main>
    </div>

    <!-- Modal de Informações (Mantido) -->
    <div id="info-modal" class="modal-overlay" style="display: none;">
        <div class="modal-card"><span class="close-modal" id="close-info-modal">&times;</span><h2 id="info-modal-title"></h2><div id="info-modal-content"></div></div>
    </div>

    <!-- SCRIPTS CORRIGIDOS E COMPLETOS -->
    <script src="js/orcamento.js"></script> <!-- Lógica do orçamento novo -->
    <script src="js/calculadoras.js"></script> <!-- Lógica das suas calculadoras antigas -->
    <script src="js/dashboard.js"></script> <!-- Lógica geral do dashboard (logout, menu) -->
</body>
</html>